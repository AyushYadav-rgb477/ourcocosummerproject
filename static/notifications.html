<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Notifications - CollabFund</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="dark-theme-override.css">
    <link rel="stylesheet" href="notifications.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
</head>
<body>
    <!-- Navbar -->
    <header class="navbar">
        <div class="nav-left">
            <div class="logo"><a href="/"><i class="fas fa-rocket"></i> CollabFund</a></div>
            <nav class="nav-links">
                <a href="/"><i class="bi bi-house-door-fill"></i> Home</a>
                <a href="browse.html"><i class="bi bi-search-heart-fill"></i> Browse Projects</a>
                <a href="discussion.html"><i class="fas fa-comments"></i> Discussion</a>
                <a href="notifications.html" class="notifications-tab active"><i class="fas fa-bell"></i> Notifications <span class="notification-badge" id="notification-count" style="display: none;">0</span></a>
            </nav>
        </div>
        <div class="nav-right" id="nav-auth">
            <!-- Will be populated by JavaScript based on auth status -->
            <a href="login.html" class="login-btn"><i class="fas fa-sign-in-alt"></i> Login</a>
            <a href="register.html" class="register-btn"><i class="fas fa-user-plus"></i> Register</a>
        </div>
    </header>

    <!-- Main Content -->
    <main class="notifications-main">
        <div class="notifications-container">
            <div class="notifications-header">
                <h1><i class="fas fa-bell"></i> Notifications</h1>
                <div class="notification-actions">
                    <button class="btn-secondary" id="mark-all-read">
                        <i class="fas fa-check-double"></i> Mark All Read
                    </button>
                    <button class="btn-secondary" id="clear-all">
                        <i class="fas fa-trash"></i> Clear All
                    </button>
                </div>
            </div>

            <!-- Notification Filters -->
            <div class="notification-filters">
                <button class="filter-btn active" data-filter="all">All</button>
                <button class="filter-btn" data-filter="reactions">Reactions</button>
                <button class="filter-btn" data-filter="comments">Comments</button>
                <button class="filter-btn" data-filter="collaborations">Collaborations</button>
                <button class="filter-btn" data-filter="donations">Donations</button>
            </div>

            <!-- Notifications List -->
            <div class="notifications-list" id="notifications-list">
                <!-- Guest Notice -->
                <div class="guest-notice" id="guest-notice" style="display: none;">
                    <div class="notice-content">
                        <i class="fas fa-bell-slash"></i>
                        <h3>Login to See Your Notifications</h3>
                        <p>Join CollabFund to receive real-time alerts when people react to your posts, comment on your projects, collaborate with you, or donate to your initiatives.</p>
                        <div class="notice-actions">
                            <a href="login.html" class="btn-primary">Login</a>
                            <a href="register.html" class="btn-outline">Register</a>
                        </div>
                    </div>
                </div>

                <!-- Loading State -->
                <div class="loading-skeleton" id="loading-skeleton">
                    <div class="skeleton-notification">
                        <div class="skeleton-avatar"></div>
                        <div class="skeleton-content">
                            <div class="skeleton-line skeleton-title"></div>
                            <div class="skeleton-line"></div>
                        </div>
                    </div>
                    <div class="skeleton-notification">
                        <div class="skeleton-avatar"></div>
                        <div class="skeleton-content">
                            <div class="skeleton-line skeleton-title"></div>
                            <div class="skeleton-line"></div>
                        </div>
                    </div>
                </div>

                <!-- Empty State -->
                <div class="empty-state" id="empty-state" style="display: none;">
                    <i class="fas fa-bell"></i>
                    <h3>No notifications yet</h3>
                    <p>When people interact with your posts and projects, you'll see notifications here.</p>
                </div>

                <!-- Notifications will be populated here by JavaScript -->
            </div>
        </div>
    </main>

    <!-- Reaction Details Modal -->
    <div class="modal" id="reaction-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Who reacted</h3>
                <button class="close-btn" onclick="closeReactionModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="reaction-tabs" id="reaction-tabs">
                    <!-- Reaction type tabs will be populated here -->
                </div>
                <div class="reaction-users-list" id="reaction-users-list">
                    <!-- Users who reacted will be populated here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Message Container -->
    <div class="message-container" id="message-container"></div>

    <!-- Scripts -->
    <script src="js/notifications.js"></script>
</body>
</html>