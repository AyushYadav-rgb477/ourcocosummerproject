<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>User Profile | CollabFund</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" crossorigin="anonymous" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
  <link rel="stylesheet" href="styles.css" />
  <link rel="stylesheet" href="user-profile.css" />
</head>
<body>

  <header class="navbar">
    <div class="nav-left">
      <div class="logo"><a href="/"><i class="fas fa-rocket"></i> CollabFund</a></div>
      <nav class="nav-links">
        <a href="/"><i class="fas fa-home"></i> Home</a>
        <a href="browse.html"><i class="fas fa-search"></i> Browse Projects</a>
        <a href="discussion.html"><i class="fas fa-comments"></i> Discussion</a>
        <a href="users.html"><i class="fas fa-users"></i> Find Users</a>
        <a href="dashboard.html" class="auth-only"><i class="fas fa-tachometer-alt"></i> Dashboard</a>
      </nav>
    </div>
    <div class="nav-right" id="nav-auth">
      <a href="login.html" class="login-btn"><i class="fas fa-sign-in-alt"></i> Login</a>
      <a href="register.html" class="register-btn"><i class="fas fa-user-plus"></i> Register</a>
    </div>
  </header>

  <div class="user-profile-container">
    <!-- Loading State -->
    <div id="loading-container" class="loading-container">
      <div class="loading-spinner">
        <i class="fas fa-spinner fa-spin"></i>
        <p>Loading user profile...</p>
      </div>
    </div>

    <!-- Error State -->
    <div id="error-container" class="error-container" style="display: none;">
      <div class="error-message">
        <i class="fas fa-exclamation-triangle"></i>
        <h2>User Not Found</h2>
        <p>The requested user profile could not be found.</p>
        <a href="users.html" class="btn-primary">Browse Users</a>
      </div>
    </div>

    <!-- User Profile Content -->
    <div id="profile-content" class="profile-content" style="display: none;">
      
      <!-- Profile Header -->
      <div class="profile-header">
        <div class="profile-avatar">
          <i class="fas fa-user-circle"></i>
        </div>
        <div class="profile-info">
          <h1 id="user-name" class="user-name">Loading...</h1>
          <p id="user-college" class="user-college">College</p>
          <p id="user-username" class="user-username">@username</p>
          <div class="user-stats">
            <div class="stat">
              <span id="followers-count" class="stat-number">0</span>
              <span class="stat-label">Followers</span>
            </div>
            <div class="stat">
              <span id="following-count" class="stat-number">0</span>
              <span class="stat-label">Following</span>
            </div>
            <div class="stat">
              <span id="projects-count" class="stat-number">0</span>
              <span class="stat-label">Projects</span>
            </div>
            <div class="stat">
              <span id="posts-count" class="stat-number">0</span>
              <span class="stat-label">Posts</span>
            </div>
          </div>
        </div>
        <div class="profile-actions" id="profile-actions">
          <!-- Action buttons will be inserted here -->
        </div>
      </div>

      <!-- Profile Tabs -->
      <div class="profile-tabs">
        <button class="tab-btn active" data-tab="projects">
          <i class="fas fa-project-diagram"></i> Projects
        </button>
        <button class="tab-btn" data-tab="about">
          <i class="fas fa-info-circle"></i> About
        </button>
      </div>

      <!-- Tab Content -->
      <div class="tab-content">
        
        <!-- Projects Tab -->
        <div id="projects-tab" class="tab-pane active">
          <div class="projects-grid" id="user-projects">
            <!-- User projects will be loaded here -->
          </div>
        </div>

        <!-- About Tab -->
        <div id="about-tab" class="tab-pane">
          <div class="about-section">
            <h3><i class="fas fa-graduation-cap"></i> Education</h3>
            <p id="about-college">College information will be displayed here</p>
            
            <h3><i class="fas fa-chart-bar"></i> Statistics</h3>
            <div class="stats-grid">
              <div class="stat-card">
                <i class="fas fa-dollar-sign"></i>
                <div class="stat-info">
                  <h4 id="total-funding">$0</h4>
                  <p>Total Funding Received</p>
                </div>
              </div>
              <div class="stat-card">
                <i class="fas fa-calendar"></i>
                <div class="stat-info">
                  <h4 id="member-since">-</h4>
                  <p>Member Since</p>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>
  </div>

  <!-- Follow Request Modal -->
  <div id="follow-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Follow User</h3>
        <button class="close-btn" onclick="closeFollowModal()">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="modal-body">
        <p>Send a follow request to <span id="follow-user-name"></span>?</p>
      </div>
      <div class="modal-actions">
        <button class="btn-secondary" onclick="closeFollowModal()">Cancel</button>
        <button class="btn-primary" onclick="sendFollowRequest()">Send Request</button>
      </div>
    </div>
  </div>

  <!-- Collaboration Request Modal -->
  <div id="collaboration-modal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Request Collaboration</h3>
        <button class="close-btn" onclick="closeCollaborationModal()">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label for="project-select">Select Project:</label>
          <select id="project-select" required>
            <option value="">Choose a project...</option>
          </select>
        </div>
        <div class="form-group">
          <label for="collaboration-message">Message (optional):</label>
          <textarea id="collaboration-message" rows="4" placeholder="Explain why you'd like to collaborate..."></textarea>
        </div>
      </div>
      <div class="modal-actions">
        <button class="btn-secondary" onclick="closeCollaborationModal()">Cancel</button>
        <button class="btn-primary" onclick="sendCollaborationRequest()">Send Request</button>
      </div>
    </div>
  </div>

  <!-- Success/Error Messages -->
  <div id="message-container" class="message-container"></div>

  <script src="js/user-profile.js"></script>
</body>
</html>